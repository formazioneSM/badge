<app-sm-loader></app-sm-loader>
<div id="container" *ngIf="!isEmailSent">
  <div id="head">
    <h1 id="title">Registrazione</h1>
    <p id="subtitle">Inserisci le tue informazioni, ma non tutto. ðŸ™ƒ</p>
  </div>


  <!-- <div [ngSwitch]="errorNumber">
    <div class="error-message" *ngSwitchCase="'409'">
      <i class="fa-solid fa-triangle-exclamation"></i> La mail che hai inserito Ã© gia registrata.
    </div>
    <div class="error-message" *ngSwitchCase="'500'">
      <i class="fa-solid fa-triangle-exclamation"></i> C`Ã© un problema con il server, riprova piÃº tardi.
    </div>
  </div>
  <div *ngIf="this.res">
    <div class="ok-message">
      <i class="fa-regular fa-circle-check"></i> Controlla la mail per attivare la registrazione.
    </div>
  </div> -->



  <div *ngIf="form">
    <form id="login" [formGroup]="form" (ngSubmit)="onSubmitRegister()">
      <div id="name">
        <app-input [textLabel]="'Nome*'" [placeholder]="'Inserisci il tuo nome'"
          [backgroundInput]="'var(--input-bg-color)'" [for]="'name'" [parentFormGroup]="form" [controlName]="'name'"
          [name]="'name'">
        </app-input>
        <div *ngIf="name?.errors && name?.touched">
          <p class="validation">Campo obbligatorio</p>
        </div>
      </div>
      <div id="surname">
        <app-input [textLabel]="'Cognome*'" [placeholder]="'Inserisci il tuo cognome'"
          [backgroundInput]="'var(--input-bg-color)'" [for]="'cognome'" [parentFormGroup]="form"
          [controlName]="'cognome'" [name]="'cognome'">
        </app-input>
        <div *ngIf="cognome?.errors && cognome?.touched">
          <p class="validation">Campo obbligatorio</p>
        </div>
      </div>

      <div id="badge">
        <app-input [textLabel]="'ID Badge*'" [placeholder]="'Inserisci il numero ID Badge'"
          [backgroundInput]="'var(--input-bg-color)'" [for]="'badge'" [parentFormGroup]="form" [controlName]="'badge'"
          [name]="'badge'">
          <div id="tooltip">
            <app-tooltip></app-tooltip>
          </div>
        </app-input>
        <div *ngIf="badge?.errors && badge?.touched">
          <p class="validation">Campo obbligatorio</p>
        </div>
      </div>
      <div id="email">
        <app-input [textLabel]="'Email*'" [placeholder]="'Inserisci la tua email di dominio'"
          [backgroundInput]="'var(--input-bg-color)'" [for]="'email'" [parentFormGroup]="form" [controlName]="'email'"
          [name]="'email'">
        </app-input>
        <div *ngIf="email?.errors && email?.touched">
          <p class="validation">Campo obbligatorio</p>
        </div>
      </div>
      <div id="password">
        <app-input [textLabel]="'Password*'" [placeholder]="'8+ caratteri'" [backgroundInput]="'var(--input-bg-color)'"
          [for]="'password'" [parentFormGroup]="form" [controlName]="'password'" [name]="'password'"
          [type]="'password'">
        </app-input>
        <div *ngIf="password?.errors && password?.touched">
          <div *ngIf="password?.errors?.['required']">
            <p class="validation">Campo obbligatorio.</p>
          </div>
          <div class="validation" *ngIf="password?.errors?.['pattern']" style="font-size: 9px;">
            <p >Deve contenere almeno 8 caratteri, una maiuscola, un numero e un carattere speciale.
            </p>
          </div>

        </div>
      </div>
      <div id="checkbox">
        <app-checkbox [parentFormGroup]="form" [controlName]="'checkbox'" [name]="'checkbox'">
          <span>*Accetto i <a [routerLink]="'/termini-e-condizioni'">termini</a> e la <a [routerLink]="'/termini-e-condizioni'">privacy</a></span>
        </app-checkbox>

      </div>
      <div id="buttonLogin">
        <app-button [typeButton]="'submit'" [textButton]="'Registrati'" [disabled]="form.invalid">
        </app-button>
      </div>
    </form>
    <p id="go-to-login">Hai giÃ  un account?<a [routerLink]="['/login']">Accedi</a></p>
  </div>

</div>
<div *ngIf="isEmailSent" class="email-sent">
  <div class="forgot-container">
    <div class="head email">
      <h1 class="title email">Email inviata ðŸŽ‰</h1>
    </div>

    <div>
      <div class="message">
        Controlla la tua casella di posta per verificare la corretta registrazione.
      </div>
      <div class="buttonContainer">
        <app-button [routerLink]="'/login'" [typeButton]="'button'" [textButton]="'Vai al Login'"></app-button>
      </div>
    </div>
  </div>
</div>